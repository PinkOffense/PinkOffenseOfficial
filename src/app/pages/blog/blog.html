<section class="blog-hero">
  <div class="container">
    <span class="blog-hero__label">&lt;/blog&gt;</span>
    <h1 class="blog-hero__title">Security Blog</h1>
    <p class="blog-hero__subtitle">
      CTF writeups, security research, tutorials, and thoughts on the ever-evolving world of cybersecurity.
    </p>
  </div>
</section>

@if (featuredPosts.length > 0) {
  <section class="featured-posts section">
    <div class="container">
      <div class="section__header">
        <span class="section__label">// FEATURED</span>
        <h2 class="section__title">Latest Highlights</h2>
      </div>

      <div class="featured-posts__grid">
        @for (post of featuredPosts; track post.id) {
          <article class="featured-post-card">
            <div class="featured-post-card__category">
              <span class="tag tag--pink">{{ post.category }}</span>
            </div>
            <h3 class="featured-post-card__title">{{ post.title }}</h3>
            <p class="featured-post-card__excerpt">{{ post.excerpt }}</p>
            <div class="featured-post-card__meta">
              <span class="featured-post-card__date">{{ formatDate(post.date) }}</span>
              <span class="featured-post-card__separator">|</span>
              <span class="featured-post-card__read-time">{{ post.readTime }}</span>
            </div>
            <a href="#" class="featured-post-card__link">
              Read Article
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M5 12h14M12 5l7 7-7 7"/>
              </svg>
            </a>
          </article>
        }
      </div>
    </div>
  </section>
}

<section class="blog-posts section">
  <div class="container">
    <div class="blog-posts__header">
      <div class="section__header">
        <span class="section__label">// ALL POSTS</span>
        <h2 class="section__title">Browse Articles</h2>
      </div>

      <div class="blog-posts__filters">
        @for (cat of categories; track cat.id) {
          <button
            class="blog-posts__filter"
            [class.blog-posts__filter--active]="activeCategory() === cat.id"
            (click)="setCategory(cat.id)"
          >
            {{ cat.name }}
          </button>
        }
      </div>
    </div>

    <div class="blog-posts__list">
      @for (post of filteredPosts; track post.id) {
        <article class="post-card">
          <div class="post-card__content">
            <div class="post-card__meta">
              <span class="post-card__date">{{ formatDate(post.date) }}</span>
              <span class="post-card__separator">|</span>
              <span class="post-card__category">{{ post.category }}</span>
            </div>
            <h3 class="post-card__title">{{ post.title }}</h3>
            <p class="post-card__excerpt">{{ post.excerpt }}</p>
            <div class="post-card__tags">
              @for (tag of post.tags; track tag) {
                <span class="tag">{{ tag }}</span>
              }
            </div>
          </div>
          <div class="post-card__action">
            <span class="post-card__read-time">{{ post.readTime }}</span>
            <a href="#" class="post-card__link">
              Read
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M5 12h14M12 5l7 7-7 7"/>
              </svg>
            </a>
          </div>
        </article>
      } @empty {
        <div class="blog-posts__empty">
          <p>No posts found in this category.</p>
        </div>
      }
    </div>
  </div>
</section>

<section class="subscribe section">
  <div class="container">
    <div class="subscribe-box">
      <h2>Stay Updated</h2>
      <p>Get notified about new posts, CTF writeups, and security research.</p>
      <form class="subscribe-form" (submit)="$event.preventDefault()">
        <input type="email" placeholder="Enter your email" class="subscribe-form__input" />
        <button type="submit" class="btn btn--primary">Subscribe</button>
      </form>
    </div>
  </div>
</section>
